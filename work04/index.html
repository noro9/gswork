<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <script src="js/jquery-2.1.3.min.js"></script>
        <script src="js/func.js"></script>
        <script> src="js/function01.js"</script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
        <script type='text/javascript'>
            var publicSpreadsheetUrl = 'https://docs.google.com/spreadsheets/d/1phk5C7oK-gL_-Z8L23heTVY3vU-NHapl8fHJ-4-Pht4/pubhtml?gid=0&single=true';

            function init() {
                Tabletop.init( { key: publicSpreadsheetUrl,
                     callback: showInfo,
                     simpleSheet: true } )
            };

            function showInfo(data, tabletop) {
                alert('ダウンロード完了')
                var i = 0

                // var cn = data[i].cn;
                // var ja = data[i].ja;
        // 問題文設定
                $("#quest").html(data[i].cn);
        // 答え設定
                $("#ans").html(data[i].ja);

                console.log(data);
        // わかるボタン押した際のアクション
                $("[name=y_button]").on("click",function(){
                    // alert("yes");
                    // i++;
                    // $("#quest").html(data[i].cn);
                    // $("#ans").html(data[i].ja);
                    var key = $("#quest").val();
                    // var value = $("#ans").val();
                    if(localStorage.getItem(key)){
                        localStorage.removeItem(key)
                    };

                });
        // わからないボタン押した際のアクション
                $("[name=n_button]").on("click",function(){
                    // alert("yes");
                    // i++;
                    // $("#quest").html(data[i].cn);
                    // $("#ans").html(data[i].ja);
                    var key = $("#quest").val();
                    var value = $("#ans").val();
                    // alert(key);
                    localStorage.setItem(key,value);
                    $("#ans").fadeIn();
                    $("#ans").fadeOut(200);
                });
        // <!-- わからないことばの繰り返し -->
                // $("[name=r_button]").on("click",function(){
                //     // var i = 0;
                //     var key = localStorage.key(i);
                //     // var value = localStorage.val(i);
                //     var n = localStorage.length;
                //     alert(n);
                //     for(var i = 1; n > 0; i++){
                //         $("#quest").html(key);
                //         $("#quest").html(value);
                //     }
                // });

        // 次へボタン押した際のアクション
                var i = 0;
                // i++;
                $("[name=next_button]").on("click",function(){
                    // alert("yes");
                    // var key = $("#quest").val();
                    // var n = -1 ;
                    // var str ="";
                    // for(var i = 0;key != 0;i++){
                    //     str = data[i].cn;
                    // }
                    i++;
                    // for(var i =0; i< 0;i+1){
                    //     $("#quest").html(data[i].cn);
                    //     $("#quest").html(data[i].ja);
                    //     i++;
                    //     // i++;
                    //     // $("#quest").html();
                    // }
                    $("#quest").html(data[i].cn);
                    $("#ans").html(data[i].ja);
                    // i++;
                    var key = $("#quest").val();
                    // $("#quest").html();
                    if(key=="0"){
                        alert("おわりです");

                            // var n = -1 ;
                            // n++;
                            // var q = localStorage.key(n);
                            // var a = localStorage.getItem(q)
                            //
                            // $("#quest").html(q);
                            // $("#ans").html(a);

                    };

                });
        // はじめからボタンを押した際のアクション
                $("[name=start_button]").on("click",function(){
                    location.reload();
                    alert("はじめから");
                });


                var i = 0;
                $("[name=r_button]").on("click",function(){
                    // alert("復習");
                    // var r_key = localStorage.getItem('key[i]')
                    // var storage = localStorage;


                    // len = storage.length;
                    var k = localStorage.key(i);
                    var v = localStorage.getItem(k);
                    i++;
                    // // var v = storage[k];
                    // alert(k);
                    $("#quest").html(k);
                    $("#ans").html(v);


                });

            };

            // $("yes").on("click",function(){
            //     alert("ok");
                // i++;
                // $("#quest").html(data[i].cn);
                // $("#ans").html(data[i].ja);
            // });




            window.addEventListener('DOMContentLoaded', init)
        </script>
        <link rel="stylesheet" href="css/style.css">
        <title>04</title>
        <script>
        // JS記述[START]
        $(function(){
            // $("[name=y_button]").on("click",function(){
            //     // alert("yes");
            //     i++;
            //     $("#quest").html(data[i].cn);
            //     $("#ans").html(data[i].ja);
            // });
            // $("[name=n_button]").on("click",function(){
            //     // alert("no");
            //
            // });








        // JS記述[END]
        });

        </script>
    </head>
    <body>
        <!-- ホーム画面エリア -->
        <!-- ロゴ -->
        <img src="" alt="">
        <!-- ホーム画面に戻る -->
        <div class="home_help">
        <button type="button" name="home_button">ホーム</button>
        <!-- HELP -->
        <button type="button" name="help_button">ヘルプ</button>
        </div>
        <!-- タイトル -->
        <h1>HyperMemo</h1>
        <!-- 使い方説明（HELP） -->
        <p></p>
        <!-- １〜６年生選択ボタン -->
        <!-- <div class="grade">


            <button type="button" name="grade_button">１年生</button>
            <button type="button" name="grade_button">２年生</button>
            <button type="button" name="grade_button">３年生</button>
            <button type="button" name="grade_button">４年生</button>
            <button type="button" name="grade_button">５年生</button>
            <button type="button" name="grade_button">６年生</button>


        </div> -->
        <!-- 設定 -->






        <!-- メインエリア -->
        <!-- 問題&答え -->
        <div class = "quest">
            <textarea id = "quest"></textarea>
            <textarea id = "ans"></textarea>

        <!-- 例文 -->
            <!-- <dd>ここに例文が入ります</dd> -->

        </div>

        <!-- 分かるor分からない選択 -->
        <p class="ans"><button  id = "yes" type="button" name="y_button">わかる</button>
        <button id = "no" type="button" name="n_button">わからない</button>
        <button id="review" type="button" name="r_button">復習</button></p>
        <!-- 答え -->



        <!-- 次の問題へ -->
        <p class="next">
            <button type="button" name="start_button">はじめから</button>
            <button type="button" name="next_button">つぎへ</button></p>







        <!-- コピーライト -->
        <footer></footer>

    </body>
</html>
